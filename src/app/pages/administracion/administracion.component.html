<div class="card-body">

    <div class="row my-3 col-2">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            Agregar
        </button>
    </div>

    <mat-card>

        <mat-form-field appearance="standard">
            <mat-label>Filtro</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Filtro de busqueda" #input>
        </mat-form-field>

        <div class="mat-elevation-z8">
            <table mat-table [dataSource]="dataSourceUsuarios" matSort>

                <!-- ID Column -->
                <ng-container matColumnDef="codigo_usuario">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                    <td mat-cell *matCellDef="let element"> {{element.codigo_usuario}} </td>
                </ng-container>

                <!-- nombre usuario -->
                <ng-container matColumnDef="nombre_usuario">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> nombre_usuario </th>
                    <td mat-cell *matCellDef="let element"> {{element.nombre_usuario}} </td>
                </ng-container>

                <!-- Usuario -->
                <ng-container matColumnDef="usuario">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> usuario </th>
                    <td mat-cell *matCellDef="let element"> {{element.usuario}} </td>
                </ng-container>

                <!-- Contraseña-->
                <ng-container matColumnDef="contrasena">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> contrasena </th>
                    <td mat-cell *matCellDef="let element"> {{element.contrasena}} </td>
                </ng-container>

                <!-- Rol -->
                <ng-container matColumnDef="rol">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> rol </th>
                    <td mat-cell *matCellDef="let element"> {{element.rol}} </td>
                </ng-container>

                <!-- Codigo Aereopuerto -->
                <ng-container matColumnDef="codigo_aereopuerto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> codigo_aereopuerto </th>
                    <td mat-cell *matCellDef="let element"> {{element.codigo_aereopuerto}} </td>
                </ng-container>

                <!-- Puesto -->
                <ng-container matColumnDef="puesto">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> puesto </th>
                    <td mat-cell *matCellDef="let element"> {{element.puesto}} </td>
                </ng-container>

                <!-- Estado -->
                <ng-container matColumnDef="estado">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado </th>
                    <td mat-cell *matCellDef="let element"> {{element.estado}} </td>
                </ng-container>

                <!-- Fruit Column -->
                <ng-container matColumnDef="acciones">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Acción </th>
                    <td mat-cell *matCellDef="let element" class="acciones">
                        <span class="material-icons" title="Modificar" style="cursor: pointer;" data-toggle="modal"
                            data-target="#staticBackdrop2" (click)="editarUsuario(element)">
                            edit
                        </span>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumnsUsuarios"></tr>
                <tr mat-row *matRowDef="let element; columns: displayedColumnsUsuarios;"></tr>

                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                </tr>
            </table>

            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
        </div>

    </mat-card>

</div>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticAdminLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticAdminLabel">Agregar un Usuario</h5>
                <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
            </div>
            <div class="modal-body">
                <form [formGroup]="informacionCreacionFormGroup">
                    <div class="mt-3 row">
                        <label for="nombre_usuario" class="col-sm-2 col-form-label">Nombre Usuario</label>
                        <div class="col-sm-10">
                            <input class="form-control" formControlName="nombre_usuario">
                            <!-- <mat-hint align="end">{{nombre_usuario.value.length}} / 50</mat-hint> -->
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Usuario</label>
                        <div class="col-sm-10">
                            <mat-form-field class="col-12">

                                <input matInput formControlName="usuario">
                            </mat-form-field>
                        </div>


                    </div>
                    <div class="mb-3 row">
                        <label for="text" class="col-sm-2 col-form-label">contraseña</label>
                        <div class="col-sm-10">
                            <input type="password" class="form-control" formControlName="contrasena">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Rol</label>
                        <div class="col-sm-10">
                            <select class="form-select" formControlName="rol" aria-label="Default select example">
                                
                                <option value="Administrador">Administrador</option>
                                <option value="Piloto">Piloto</option>
                                <option value="Azafata">Azafata</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Cod. Aereopuerto</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" formControlName="codigo_aereopuerto">
                        </div>
                    </div>
                    <!-- <div class="mb-3 row">
                        <div class="col-sm-12">

                            <select class="form-select" aria-label="Default select example">
                                <option selected>Open this select menu</option>
                                <option value="1">One</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                            </select>

                        </div>
                    </div> -->

                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Puesto</label>
                        <div class="col-sm-10">

                            <select class="form-select" formControlName="puesto" aria-label="Default select example">
                                
                                <option value="Administrador">Administrador</option>
                                <option value="Piloto">Piloto</option>
                                <option value="Azafata">Azafata</option>
                            </select>

                        </div>
                    </div>

                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Estado</label>
                        <div class="col-sm-10">

                            <mat-slide-toggle color="primary" #estado class="margenObservaciones"
                                formControlName="estado">

                                {{estado.checked ? 'Activo' : 'Inactivo'}}

                            </mat-slide-toggle>


                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" [disabled]="informacionCreacionFormGroup.invalid"
                    (click)="guardarUsuario()" data-bs-dismiss="modal">Guardar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Editar-->
<div class="modal fade" id="staticBackdrop2" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticEditLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticEditLabel">Editar un Usuario</h5>
                <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
            </div>
            <div class="modal-body">
                <form [formGroup]="informacionCreacionFormGroup">
                    <div class="mb-3 row">
                        <label for="text" class="col-sm-2 col-form-label">id</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" formControlName="codigo_usuario" readonly>
                        </div>
                    </div>
                    <div class="mt-3 row">
                        <label for="nombre_usuario" class="col-sm-2 col-form-label">Nombre Usuario</label>
                        <div class="col-sm-10">
                            <input class="form-control" formControlName="nombre_usuario">
                            <!-- <mat-hint align="end">{{nombre_usuario.value.length}} / 50</mat-hint> -->
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Usuario</label>
                        <div class="col-sm-10">
                            <mat-form-field class="col-12">

                                <input matInput formControlName="usuario">
                            </mat-form-field>
                        </div>


                    </div>
                    <div class="mb-3 row">
                        <label for="text" class="col-sm-2 col-form-label">contraseña</label>
                        <div class="col-sm-10">
                            <input type="password" class="form-control" formControlName="contrasena">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Rol</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" formControlName="rol">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Cod. Aereopuerto</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" formControlName="codigo_aereopuerto">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Puesto</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" formControlName="puesto">
                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Estado</label>
                        <div class="col-sm-10">

                            <mat-slide-toggle color="primary" #estado class="margenObservaciones"
                                formControlName="estado">

                                {{estado.checked ? 'Activo' : 'Inactivo'}}

                            </mat-slide-toggle>


                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-primary" (click)="Actualizar(informacionCreacionFormGroup.value)"
                    data-bs-dismiss="modal">Guardar
                </button>
                <button type="button" class="btn btn-primary" (click)="eliminarUsuario()"
                    data-bs-dismiss="modal">Eliminar
                </button>
            </div>
        </div>
    </div>
</div>

<form>
    <h4>mat-select</h4>
    <mat-form-field appearance="standard">
        <mat-label>Favorite food</mat-label>
        <mat-select [(ngModel)]="selectedValue" name="puesto">
            <mat-option *ngFor="let puesto of puestos" [value]="puesto.value">
                {{puesto.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <p> Selected puesto: {{selectedValue}} </p>
    <h4>native html select</h4>
    <mat-form-field appearance="fill">
        <mat-label>Favorite car</mat-label>
        <select matNativeControl [(ngModel)]="selectedCar" name="car">
            <option value="" selected></option>
            <option *ngFor="let car of cars" [value]="car.value">
                {{car.viewValue}}
            </option>
        </select>
    </mat-form-field>
    <p> Selected car: {{selectedCar}} </p>
</form>